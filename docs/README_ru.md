## Структура проекта  

- `cmd/` — точка входа приложения  
- `internal/` — основная бизнес-логика:  
  - `logging/` — инициализация и настройка логирования  
  - `model/` — структуры данных для сценариев использования, запросов, ответов и шаблонов  
  - `service/` — обработка запросов, маршрутизация и генерация шаблонов  
    - `service/builder` — построение маршрутов и шаблонов  
    - `service/matcher` — сопоставление запросов  
    - `service/preparer` — подготовка ответов  
  - `transport/` — HTTP-сервер, обработчики и интерфейсы  
- `vendor/` — внешние зависимости  

## Быстрый старт  

1. Установите зависимости:  
    ```sh  
    go mod tidy  
    ```  

2. Добавьте папку с шаблонами.  

3. Соберите и запустите сервис:  
    ```sh  
    go run cmd/gomock.go --dir /путь/к/папке/с/шаблонами --address :8080  
    ```  

## Пример использования  

После запуска сервис ожидает HTTP-запросы, сопоставляет их с шаблонами и возвращает соответствующие ответы.  

## Тестирование  

Для запуска юнит-тестов выполните:  
```sh  
go test ./...  
```  
Тесты проверяют основные функции сервиса и его стабильность.  

## Синтаксис  

### Параметры пути  
- `:param_name` — параметр пути, который может соответствовать любому значению  
- `{id:[a-zA-Z0-9-]+}` — параметр пути, который проверяется по регулярному выражению  

### Допустимые значения поля `MustMethod`  
- `GET` — HTTP-метод  
- `POST` — HTTP-метод  
- `PUT` — HTTP-метод  
- `DELETE` — HTTP-метод  
- `PATCH` — HTTP-метод  

### Синтаксис плейсхолдеров  
- `${...}` — любое значение  
- `${regexp:...}` — значение, соответствующее регулярному выражению (где `...` — пользовательское regexp)  
- `${req.queryParams:...}` — значение из query-параметров (где `...` — имя параметра)  
- `${req.pathParams:...}` — значение из параметров пути (где `...` — имя параметра)  
- `${req.formParams:...}` — значение из form-параметров (где `...` — имя параметра)  
- `${req.headers:...}` — значение из заголовков (где `...` — имя заголовка)  
- `${req.body:...}` — значение из тела запроса (где `...` — имя параметра)  

### Сопоставление запросов  
- `MustMethod` — метод обрабатываемого сценария (обязательное поле)  
- `MustPathParameters` — параметры пути, которые должны присутствовать в запросе  
- `MustQueryParameters` — query-параметры, обязательные для запроса  
- `MustFormParameters` — form-параметры, обязательные для запроса  
- `MustHeaders` — заголовки, обязательные для запроса  
- `MustBody` — тело запроса, которое должно присутствовать  

### Подготовка ответа  
- `SetStatus` — HTTP-статус ответа  
- `SetHeaders` — заголовки ответа  
- `SetBody` — тело ответа  
- `SetFile` — файл для отправки в ответе  

### Пример шаблона  

```json  
{  
    "Path": "/users",  
    "Handle": [  
        {  
            "MatchRequest": {  
                "MustMethod": "GET",  
                "MustQueryParameters": {  
                    "sort": "name"  
                },  
                "MustHeaders": {  
                    "Host": "127.0.0.1"  
                }  
            },  
            "SetResponse": {  
                "SetStatus": 200,  
                "SetBody": {  
                    "user_uuid": "${req.queryParams:user_uuid}",  
                    "username": "x0rx3"  
                }  
            }  
        },  
        {  
            "MatchRequest": {  
                "MustMethod": "POST",  
                "MustQueryParameters": {  
                   "download": ""   
                },  
                "MustHeaders": {  
                    "Host": "192.168.0.1"  
                }  
            },  
            "SetResponse": {  
                "SetStatus": 200,  
                "SetFile": "/путь/к/файлу"  
            }  
        }  
    ]  
}  
```